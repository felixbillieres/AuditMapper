<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide Privesc - AuditMapper</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!-- Styles sp√©cifiques pour la nouvelle checklist -->
    <style>
        /* D√©finir la hauteur du header comme variable CSS */
        :root {
            --header-height: 60px;
        }

        body {
            padding-top: var(--header-height);
        }

        .main-header.fixed-top {
            height: var(--header-height);
            z-index: 1030;
        }

        .node-selector-bar.sticky-top {
            top: var(--header-height);
            z-index: 1020;
            background-color: var(--background-color-light, #f8f9fa);
        }

        .checklist-item {
            border: 1px solid var(--border-color, #dee2e6);
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 0.375rem;
            background-color: var(--background-color-secondary);
        }
        .checklist-item:target { /* Style pour l'√©l√©ment cibl√© par l'ancre */
             border-color: var(--primary-color, #0d6efd);
             box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25); /* Utilise variable Bootstrap si disponible */
        }
        .checklist-item.status-checked { border-left: 5px solid var(--bs-success, #198754); } /* Vert */
        .checklist-item.status-exploitable { border-left: 5px solid var(--bs-warning, #ffc107); } /* Jaune */
        .checklist-item.status-exploited { border-left: 5px solid var(--bs-danger, #dc3545); } /* Rouge */

        .checklist-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
        .checklist-label { font-weight: bold; }
        .checklist-status select { font-size: 0.8rem; padding: 0.1rem 0.3rem; }
        .checklist-description { font-size: 0.9rem; margin-bottom: 0.75rem; color: var(--text-color-secondary); } /* Couleur secondaire */
        .checklist-commands, .checklist-links, .checklist-tips, .checklist-notes { margin-top: 0.75rem; }
        .checklist-commands pre { background-color: var(--code-background-color); padding: 0.75rem; border-radius: 3px; font-size: 0.85rem; position: relative; border: 1px solid var(--border-color); } /* Ajout bordure subtile */
        .copy-btn-inline { position: absolute; top: 5px; right: 5px; font-size: 0.8em; padding: 2px 5px; cursor: pointer; /* Assurer curseur pointeur */ }
        .checklist-links a { margin-right: 10px; font-size: 0.85rem; }
        .checklist-tips { font-style: italic; color: var(--text-color-muted, #6c757d); font-size: 0.85rem; background-color: var(--background-color-light); padding: 0.5rem; border-radius: 3px; } /* Fond l√©ger pour astuces */
        .checklist-notes textarea { width: 100%; font-size: 0.85rem; min-height: 60px; margin-top: 5px; }
        .filter-controls { background-color: var(--background-color-light); padding: 1rem; margin-bottom: 1rem; border-radius: 5px; border: 1px solid var(--border-color); }
        .quick-nav-links a {
            margin: 0.2rem; /* Espacement entre les boutons */
            font-size: 0.85rem; /* Taille de police l√©g√®rement r√©duite */
        }
        .checklist-category-header {
             margin-top: 1.5rem;
             margin-bottom: 0.75rem;
             padding-bottom: 0.5rem;
             border-bottom: 2px solid var(--primary-color, #0d6efd); /* Soulignement color√© */
             /* scroll-margin-top: calc(var(--header-height) + 50px); /* Ajuster pour header + barre sticky */ */
             /* Simplification: on laisse juste le scroll-margin-top pour le header fixe */
             scroll-margin-top: calc(var(--header-height) + 10px); /* Espace pour le header fixe */
        }
        /* Assurer que le main-content n'a plus de padding-top car body l'a d√©j√† */
        #main-content {
            padding-top: 0; /* Supprim√© car g√©r√© par body */
        }
    </style>
</head>
<body>
    <!-- Bouton pour afficher/masquer la sidebar -->
    <button id="sidebar-toggle" class="sidebar-toggle">
        <i>‚ò∞</i>
    </button>
    
    <!-- Sidebar Unifi√©e -->
    <div id="sidebar" class="sidebar">
        <a href="/index.html" class="sidebar-header">
            <img src="/assets/photos/logo.png" alt="AuditMapper" class="sidebar-logo">
            <div class="sidebar-header-text">
                <h2>AuditMapper</h2>
                <p>Security Assessment Suite</p>
            </div>
        </a>
        
        <div class="sidebar-content">
            <ul class="sidebar-nav">
                <div class="sidebar-category">Management</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/hostmanager.html" class="sidebar-nav-link">
                        <i>üñ•Ô∏è</i> Host Manager
                    </a>
                </li>
                
                <div class="sidebar-category">Outils</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/tools.html" class="sidebar-nav-link">
                        <i>üõ†Ô∏è</i> Biblioth√®que d'outils
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/file_transfer.html" class="sidebar-nav-link">
                        <i>üîÑ</i> Transfert Fichiers
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/pivoting_guide.html" class="sidebar-nav-link">
                        <i>üîÄ</i> Pivoting Guide
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/privesc.html" class="sidebar-nav-link active">
                        <i>üîë</i> Guide Privesc
                    </a>
                </li>
                
                <div class="sidebar-category">Parsers & G√©n√©rateurs</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/hostsmaker.html" class="sidebar-nav-link">
                        <i>üåê</i> Config Generator
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/grepmaster.html" class="sidebar-nav-link">
                        <i>üîç</i> Grep Master
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/vulnreport.html" class="sidebar-nav-link">
                        <i>üîí</i> Rapport de Vuln√©rabilit√©s
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Header -->
    <header id="main-header" class="main-header fixed-top">
        <div class="header-container">
            <h1>Cockpit Privesc v3 - Checklist Dynamique</h1>
            <div class="header-controls">
                <div class="language-selector">
                    <button id="languageDropdown" class="language-dropdown">
                        <i class="icon-language">üåç</i>
                        <span id="currentLanguage">Fran√ßais</span>
                        <i class="dropdown-arrow">‚ñº</i>
                    </button>
                    <div id="languageMenu" class="language-menu">
                        <div class="language-option" data-lang="fr">
                            <span class="language-flag">üá´üá∑</span>Fran√ßais
                        </div>
                        <div class="language-option" data-lang="en">
                            <span class="language-flag">üá¨üáß</span>English
                        </div>
                    </div>
                </div>
                <button id="toggleTheme" class="theme-toggle">
                    <i class="icon-theme">üåì</i>
                </button>
            </div>
        </div>
    </header>

    <!-- Contenu principal -->
    <div id="main-content" class="main-content">
        <!-- Barre de S√©lection du Node -->
        <div class="node-selector-bar d-flex align-items-center p-2 border-bottom bg-light sticky-top">
            <label for="node-select" class="form-label mb-0 me-2 fw-bold">Node (depuis HostManager):</label>
            <select id="node-select" class="form-select form-select-sm me-3" style="max-width: 300px;">
                <option value="">-- Charger les donn√©es HostManager... --</option>
                <!-- Options charg√©es par JS -->
            </select>
            <div id="active-node-info" class="node-info flex-grow-1 small text-muted">
                S√©lectionnez un node...
            </div>
        </div>

        <!-- Zone Principale : Checklist Dynamique -->
        <div class="container-fluid mt-3">
            <!-- Filtres -->
            <div class="d-flex align-items-center flex-wrap p-2 mb-3 border rounded bg-light shadow-sm">
                 <span class="me-2 fw-bold small">Filtrer:</span>
                 <input type="search" id="checklist-search" class="form-control form-control-sm me-2 mb-1 flex-grow-1" style="min-width: 150px;" placeholder="Rechercher...">
                 <select id="checklist-filter-status" class="form-select form-select-sm me-2 mb-1" style="width: auto; min-width: 140px;">
                     <option value="">Tous Statuts</option>
                     <option value="todo">√Ä v√©rifier</option>
                     <option value="checked">V√©rifi√©</option>
                     <option value="exploitable">Exploitable</option>
                     <option value="exploited">Exploit√©</option>
                 </select>
                 <select id="checklist-filter-tag" class="form-select form-select-sm mb-1" style="width: auto; min-width: 140px;">
                     <option value="">Tous Tags</option>
                     <!-- Tags charg√©s dynamiquement -->
                 </select>
                 <!-- Bouton filtre supprim√© car filtrage direct -->
            </div>

            <!-- NOUVEAU: Liens de Navigation Rapide -->
            <div id="quick-nav-links" class="quick-nav-links mb-3 pb-2 border-bottom">
                 <span class="text-muted small me-2 align-self-center">Aller √†:</span>
                 <!-- Liens ajout√©s par JS sous forme de badges/boutons -->
            </div>

            <!-- Conteneur de la Checklist -->
            <div id="checklist-container" class="mt-3">
                <p class="text-muted text-center" id="checklist-placeholder">S√©lectionnez un node pour afficher la checklist contextuelle.</p>
                <!-- La checklist sera g√©n√©r√©e ici par JS -->
            </div>
        </div>
        <!-- FIN Zone Principale -->

    </div> <!-- Fin #main-content -->

    <footer class="main-footer">
        <div class="footer-content">
            <p>Made with ‚ù§Ô∏è by Elliot Belt - AuditMapper Security Suite</p>
        </div>
    </footer>
    
    <script src="/assets/js/sidebar.js"></script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/language.js"></script>
    <script src="/assets/js/privesc.js"></script>
</body>
</html> 