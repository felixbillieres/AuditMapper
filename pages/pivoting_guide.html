<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pivot Master - AuditMapper</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/pivot-master.css">
    <!-- Vis.js pour la visualisation r√©seau -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>
    <!-- Bouton pour afficher/masquer la sidebar -->
    <button id="sidebar-toggle" class="sidebar-toggle">
        <i>‚ò∞</i>
    </button>

    <!-- Sidebar Unifi√©e -->
    <div id="sidebar" class="sidebar">
        <a href="/index.html" class="sidebar-header">
            <img src="/assets/photos/logo.png" alt="AuditMapper" class="sidebar-logo">
            <div class="sidebar-header-text">
                <h2>AuditMapper</h2>
                <p>Security Assessment Suite</p>
            </div>
        </a>
        
        <div class="sidebar-content">
            <ul class="sidebar-nav">
                <div class="sidebar-category">Management</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/hostmanager.html" class="sidebar-nav-link">
                        <i>üñ•Ô∏è</i> Host Manager
                    </a>
                </li>
                
                <div class="sidebar-category">Outils</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/tools.html" class="sidebar-nav-link">
                        <i>üõ†Ô∏è</i> Biblioth√®que d'outils
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/file_transfer.html" class="sidebar-nav-link">
                        <i>üîÑ</i> Transfert Fichiers
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/pivoting_guide.html" class="sidebar-nav-link active">
                        <i>üîÄ</i> Pivoting Guide
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/privesc.html" class="sidebar-nav-link">
                        <i>üîë</i> Guide Privesc
                    </a>
                </li>
                
                <div class="sidebar-category">Parsers & G√©n√©rateurs</div>
                <li class="sidebar-nav-item">
                    <a href="/pages/hostsmaker.html" class="sidebar-nav-link">
                        <i>üåê</i> Config Generator
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/grepmaster.html" class="sidebar-nav-link">
                        <i>üîç</i> Grep Master
                    </a>
                </li>
                <li class="sidebar-nav-item">
                    <a href="/pages/vulnreport.html" class="sidebar-nav-link">
                        <i>üîí</i> Rapport de Vuln√©rabilit√©s
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Header -->
    <header id="main-header" class="main-header">
        <div class="header-container">
            <h1>Pivot Master - G√©n√©rateur de Commandes de Pivot</h1>
            <div class="header-controls">
                <div class="language-selector">
                    <button id="languageDropdown" class="language-dropdown">
                        <i class="icon-language">üåç</i>
                        <span id="currentLanguage">Fran√ßais</span>
                        <i class="dropdown-arrow">‚ñº</i>
                    </button>
                    <div id="languageMenu" class="language-menu">
                        <div class="language-option" data-lang="fr">
                            <span class="language-flag">üá´üá∑</span>Fran√ßais
                        </div>
                        <div class="language-option" data-lang="en">
                            <span class="language-flag">üá¨üáß</span>English
                        </div>
                    </div>
                </div>
                <button id="toggleTheme" class="theme-toggle">
                    <i class="icon-theme">üåì</i>
                </button>
            </div>
        </div>
    </header>

    <!-- Contenu principal -->
    <div id="main-content" class="main-content">

        <!-- Header de l'outil -->
        <div class="pivot-header">
            <p>Saisissez vos informations et obtenez des commandes de pivot pr√™tes √† l'emploi</p>
        </div>

        <!-- Container Configuration -->
        <div class="config-container">
                <div class="section-card">
                    <h3>‚öôÔ∏è Configuration</h3>
                <div class="card-body">
                    <!-- Option Double Pivot -->
                    <div class="config-group">
                        <div class="form-row">
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="doublePivot">
                                    <span>Double Pivot</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Informations attaquant -->
                    <div class="config-group">
                        <h4>üñ•Ô∏è Machine Attaquante</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="attackerIp">IP Attaquant :</label>
                                <input type="text" id="attackerIp" value="10.10.14.15" placeholder="10.10.14.15">
                            </div>
                            <div class="form-group">
                                <label for="attackerPort">Port d'√©coute :</label>
                                <input type="number" id="attackerPort" value="4444" placeholder="4444">
                            </div>
                        </div>
                    </div>

                    <!-- S√©lection des outils -->
                    <div class="config-group">
                        <h4>üõ†Ô∏è Outils de Pivot</h4>
                        <div class="tools-grid">
                            <div class="tool-card" data-supports-double-pivot="true">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="chisel" checked>
                                    <div class="tool-content">
                                        <span class="tool-icon">‚ö°</span>
                                        <div class="tool-info">
                                            <h5>Chisel</h5>
                                            <p>Tunnel HTTP/HTTPS, id√©al pour Windows</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card" data-supports-double-pivot="true">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="ssh" checked>
                                    <div class="tool-content">
                                        <span class="tool-icon">üîê</span>
                                        <div class="tool-info">
                                            <h5>SSH</h5>
                                            <p>Tunneling SSH, stable et discret</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card" data-supports-double-pivot="true">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="socat">
                                    <div class="tool-content">
                                        <span class="tool-icon">üîÑ</span>
                                        <div class="tool-info">
                                            <h5>Socat</h5>
                                            <p>Relais bidirectionnel, polyvalent</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card" data-supports-double-pivot="false">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="netcat">
                                    <div class="tool-content">
                                        <span class="tool-icon">üì°</span>
                                        <div class="tool-info">
                                            <h5>Netcat</h5>
                                            <p>Relais simple, disponible partout</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card" data-supports-double-pivot="true">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="ligolo">
                                    <div class="tool-content">
                                        <span class="tool-icon">ü¶ä</span>
                                        <div class="tool-info">
                                            <h5>Ligolo</h5>
                                            <p>Tunnel TUN, id√©al pour Linux</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="proxychains">
                                    <div class="tool-content">
                                        <span class="tool-icon">‚õìÔ∏è</span>
                                        <div class="tool-info">
                                            <h5>ProxyChains</h5>
                                            <p>Proxy SOCKS, multi-sauts</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="rpivot">
                                    <div class="tool-content">
                                        <span class="tool-icon">üîÑ</span>
                                        <div class="tool-info">
                                            <h5>RPivot</h5>
                                            <p>Tunnel SOCKS, id√©al pour Windows</p>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <div class="tool-card">
                                <label class="tool-option">
                                    <input type="checkbox" name="tools" value="plink">
                                    <div class="tool-content">
                                        <span class="tool-icon">üîå</span>
                                        <div class="tool-info">
                                            <h5>Plink</h5>
                                            <p>SSH pour Windows, sans interface</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Informations Target 1 -->
                    <div class="config-group">
                        <h4>üéØ Target 1 (Premier Pivot)</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="target1Ip">IP :</label>
                                <input type="text" id="target1Ip" placeholder="192.168.1.100">
                            </div>
                            <div class="form-group">
                                <label for="target1Port">Port :</label>
                                <input type="number" id="target1Port" value="22" placeholder="22">
            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="target1User">Utilisateur :</label>
                                <input type="text" id="target1User" placeholder="user">
                            </div>
                            <div class="form-group">
                                <label for="target1Password">Mot de passe :</label>
                                <input type="password" id="target1Password" placeholder="password">
                            </div>
                        </div>
                    </div>

                    <!-- Informations Target 2 -->
                    <div class="config-group" id="target2Group">
                        <h4>üéØ Target 2 (Second Pivot)</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="target2Ip">IP :</label>
                                <input type="text" id="target2Ip" placeholder="172.16.1.100">
                            </div>
                            <div class="form-group">
                                <label for="target2Port">Port :</label>
                                <input type="number" id="target2Port" value="22" placeholder="22">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="target2User">Utilisateur :</label>
                                <input type="text" id="target2User" placeholder="user">
                            </div>
                            <div class="form-group">
                                <label for="target2Password">Mot de passe :</label>
                                <input type="password" id="target2Password" placeholder="password">
                            </div>
                        </div>
                    </div>

                    <!-- Boutons d'action -->
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="generateCommands()">‚ö° G√©n√©rer les Commandes</button>
                        <button class="btn btn-secondary" onclick="clearForm()">üóëÔ∏è Effacer</button>
                        <button class="btn btn-info" onclick="loadExample()">üí° Exemple</button>
                    </div>

                    <!-- Section des commandes g√©n√©r√©es -->
                    <div class="section-card" id="resultsSection">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-terminal"></i> Commandes G√©n√©r√©es
                            </h3>
                            <p class="section-description">
                                Commandes pour √©tablir les tunnels et pivots selon les outils s√©lectionn√©s
                            </p>
                        </div>
                        <div class="section-content">
                            <div class="commands-tabs">
                                <div class="tabs-nav" id="commandsTabs">
                                    <!-- Les onglets seront g√©n√©r√©s dynamiquement -->
                            </div>
                                <div class="tabs-content" id="commandsContent">
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle"></i> S√©lectionnez des outils et cliquez sur "G√©n√©rer les Commandes" pour voir les r√©sultats.
                            </div>
                        </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Container Topologie R√©seau -->
        <div class="network-container">
            <div class="section-card">
                    <h3>üó∫Ô∏è Topologie R√©seau Interactive</h3>
                <div class="card-body">
                    <!-- Contenu existant de la topologie -->
                    <div class="network-visualization">
                    <!-- Zone de visualisation -->
                    <div class="network-canvas" id="networkCanvas">
                        <!-- Vis.js network sera inject√© ici -->
            </div>

                    <!-- Panneau d'informations -->
                    <div class="network-info-panel" id="networkInfoPanel">
                        <div class="info-header">
                            <h4>üìä Informations R√©seau</h4>
                        </div>
                        <div class="info-content" id="networkInfoContent">
                            <div class="info-placeholder">
                                <i>üñ±Ô∏è</i>
                                <p>Cliquez sur un n≈ìud pour voir les d√©tails</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section aide -->
                    <div class="help-section mt-4">
                        <h4 class="mb-3">üí° Aide & Tips</h4>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>üîê SSH Tunneling</h4>
                        <p>Id√©al quand SSH est disponible sur la target. Stable et discret.</p>
                        <code>ssh -D 1080 user@target</code>
                    </div>
                    
                    <div class="tip-card">
                        <h4>‚ö° Chisel</h4>
                        <p>Excellent pour Windows. Tunnel via HTTP/HTTPS, bypass de firewall.</p>
                        <code>chisel server -p 8080 --reverse</code>
            </div>

                    <div class="tip-card">
                        <h4>üåê Double Pivot</h4>
                        <p>Pour atteindre des r√©seaux isol√©s via plusieurs machines compromises.</p>
                        <code>Attacker ‚Üí Target1 ‚Üí Target2 ‚Üí Target3</code>
                    </div>
                    
                    <div class="tip-card">
                        <h4>üîó Port Forwarding</h4>
                        <p>Local: -L [local]:[target]:[port]<br>Remote: -R [remote]:[local]:[port]</p>
                        <code>ssh -L 8080:target:80 user@pivot</code>
                    </div>
                </div>
            </div>
            </div>
            </div>
        </div>
    </div>

    <footer class="main-footer">
        <div class="footer-content">
            <p>Made with ‚ù§Ô∏è by Elliot Belt - AuditMapper Security Suite</p>
        </div>
    </footer>

    <!-- Conteneur de notifications -->
    <div id="notificationContainer" style="position: fixed; top: 20px; right: 20px; z-index: 9999;"></div>
    
    <!-- Scripts externes -->
    <script src="/assets/js/sidebar.js"></script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/language.js"></script>

    <!-- Script principal du Pivot Master -->
    <script src="/assets/js/pivot-master.js"></script>
</body>
</html> 